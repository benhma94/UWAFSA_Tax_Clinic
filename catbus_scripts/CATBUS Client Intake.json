{"files":[{"id":"8ffabf42-f206-49ad-b8dd-0d1790a3ce87","name":"appsscript","type":"json","source":"{\n  \"timeZone\": \"America/New_York\",\n  \"dependencies\": {},\n  \"webapp\": {\n    \"executeAs\": \"USER_DEPLOYING\",\n    \"access\": \"ANYONE_ANONYMOUS\"\n  },\n  \"exceptionLogging\": \"STACKDRIVER\",\n  \"runtimeVersion\": \"V8\"\n}"},{"id":"ea2ca67d-437e-46b6-8672-f94cde6e852a","name":"Code","type":"server_js","source":"function doGet() {\n  return HtmlService.createHtmlOutputFromFile(\u0027catbus_intake_form\u0027)\n  .setTitle(\u0027AFSA Tax Clinic Intake Form\u0027);\n}\n\nfunction submitClientIntake(data) {\n  const ss \u003d SpreadsheetApp.openById(\u00271W669LwuA8IpB03BlmhwnUkkupMZW2Cg0I_6cvSp0pwI\u0027);\n  const sheet \u003d ss.getSheetByName(\u0027Client Intake\u0027);\n  \n  const headers \u003d [\n    \"Timestamp\", \"Tuition\", \"Income Limit\", \"Documents Ready\",\n    \"Self Employment\", \"Bankruptcy/Deceased\", \"Rental/Capital Gains\", \"Foreign Property\",\n    \"Household Count\", \"Years Needed\", \"Special Situations\", \"Ticket Number\",\n    \"All Present\", \"Needs Review\"\n  ];\n  \n  const row \u003d [\n    new Date(),\n    data.tuition,\n    data.incomeLimit,\n    data.documentsReady,\n    data.selfEmployment,\n    data.bankruptcyOrDeceased,\n    data.rentalOrGains,\n    data.foreignProperty,\n    data.householdCount,\n    data.yearsNeeded,\n    data.specialSituations,\n    data.ticketNumber,\n    data.allPresent,\n    data.needsReview\n  ];\n\n  sheet.appendRow(row);\n}\n\nfunction storeMainFormData(formData) {\n  const ss \u003d SpreadsheetApp.openById(\u00271W669LwuA8IpB03BlmhwnUkkupMZW2Cg0I_6cvSp0pwI\u0027);\n  const sheet \u003d ss.getSheetByName(\u0027Client Intake\u0027);\n\n  // Get *all* client IDs in Column F, ignore blanks \u0026 invalid rows\n  const allData \u003d sheet.getRange(2, 6, sheet.getMaxRows() - 1).getValues();\n  const idMap \u003d {};\n\n  for (let row of allData) {\n    if (!row[0]) continue; // skip blank\n    let entry \u003d row[0].toString().trim();\n    if (/^[A-Z]\\d{3}$/.test(entry)) {\n      const letter \u003d entry[0];\n      const num \u003d parseInt(entry.substring(1));\n      if (!idMap[letter]) idMap[letter] \u003d new Set();\n      idMap[letter].add(num);\n    }\n  }\n\n  // Generate next available ID safely\n  let letter \u003d \u0027A\u0027;\n  while (true) {\n    let usedNums \u003d idMap[letter] || new Set();\n    let num \u003d 1;\n    while (usedNums.has(num)) num++;\n\n    if (num \u003c\u003d 999) {\n      var clientID \u003d `${letter}${String(num).padStart(3, \u00270\u0027)}`;\n      break;\n    }\n\n    // If we run out of numbers, move to next letter\n    letter \u003d String.fromCharCode(letter.charCodeAt(0) + 1);\n  }\n\n  // Append the row safely\n  sheet.appendRow([\n    new Date(),\n    formData.householdsize,\n    formData.filingYears.join(\u0027, \u0027),\n    formData.situations.join(\u0027, \u0027),\n    formData.notes,\n    clientID,\n    formData.needsSeniorReview\n  ]);\n\n  return clientID;\n}\n\nfunction sendHelpRequest(volunteer) {\n  const ss \u003d SpreadsheetApp.openById(\u00271W669LwuA8IpB03BlmhwnUkkupMZW2Cg0I_6cvSp0pwI\u0027);\n  const sheet \u003d ss.getSheetByName(\u0027Help Requests\u0027);\n  const data \u003d sheet.getDataRange().getValues();\n\n  let found \u003d false;\n  for (let i \u003d 1; i \u003c data.length; i++) {\n    if (data[i][1] \u003d\u003d\u003d volunteer \u0026\u0026 data[i][2] \u003d\u003d\u003d \"Active\") {\n      found \u003d true;\n      break;\n    }\n  }\n\n  if (!found) {\n    sheet.appendRow([new Date(), volunteer, \"Active\"]);\n  }\n}\n\nfunction clearHelpRequest(volunteer) {\n  const ss \u003d SpreadsheetApp.openById(\u00271W669LwuA8IpB03BlmhwnUkkupMZW2Cg0I_6cvSp0pwI\u0027);\n  const sheet \u003d ss.getSheetByName(\u0027Help Requests\u0027);\n  const data \u003d sheet.getDataRange().getValues();\n\n  for (let i \u003d 1; i \u003c data.length; i++) {\n    const v \u003d data[i][1]?.toString().trim();\n    const status \u003d data[i][2]?.toString().trim().toLowerCase();\n    if (v \u003d\u003d\u003d volunteer \u0026\u0026 (status \u003d\u003d\u003d \"active\" || status \u003d\u003d\u003d \"escalated\")) {\n      sheet.getRange(i + 1, 3).setValue(\"Cleared\");\n    }\n  }\n}\n\nfunction escalateHelpRequest(volunteer) {\n  const ss \u003d SpreadsheetApp.openById(\u00271W669LwuA8IpB03BlmhwnUkkupMZW2Cg0I_6cvSp0pwI\u0027);\n  const sheet \u003d ss.getSheetByName(\u0027Help Requests\u0027);\n  const data \u003d sheet.getDataRange().getValues();\n\n  for (let i \u003d 1; i \u003c data.length; i++) {\n    const v \u003d data[i][1]?.toString().trim();\n    const status \u003d data[i][2]?.toString().trim().toLowerCase();\n    if (v \u003d\u003d\u003d volunteer \u0026\u0026 status \u003d\u003d\u003d \"active\") {\n      sheet.getRange(i + 1, 3).setValue(\"Escalated\");\n    }\n  }\n}\n\nfunction getHelpStatus(volunteer) {\n  const ss \u003d SpreadsheetApp.openById(\u0027YOUR_SHEET_ID\u0027);\n  const sheet \u003d ss.getSheetByName(\u0027Help Requests\u0027);\n  const data \u003d sheet.getDataRange().getValues();\n\n  for (let i \u003d data.length - 1; i \u003e\u003d 1; i--) {\n    const v \u003d data[i][1]?.toString().trim();\n    const status \u003d data[i][2]?.toString().trim().toLowerCase();\n    if (v \u003d\u003d\u003d volunteer \u0026\u0026 (status \u003d\u003d\u003d \"active\" || status \u003d\u003d\u003d \"escalated\")) {\n      return status;\n    }\n  }\n\n  return \"cleared\";\n}\n\n"},{"id":"10071a22-fb11-44ab-be65-1c1e906ca07b","name":"catbus_intake_form","type":"html","source":"\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n  \u003cbase target\u003d\"_top\"\u003e\n  \u003cstyle\u003e\n    :root {\n      --accent-color: rgb(142, 0, 0);\n      --bg-color-light: #ffffff;\n      --text-color-light: #1a1a1a;\n      --input-bg-light: #f2f2f2;\n      --border-light: #ccc;\n      --bg-color-dark: #1e1e1e;\n      --text-color-dark: #f0f0f0;\n      --input-bg-dark: #2a2a2a;\n      --border-dark: #444;\n    }\n\n    body.light {\n      background-color: var(--bg-color-light);\n      color: var(--text-color-light);\n    }\n\n    body.dark {\n      background-color: var(--bg-color-dark);\n      color: var(--text-color-dark);\n    }\n\n    body {\n      margin: 0;\n      font-family: \u0027Segoe UI\u0027, Verdana, sans-serif;\n      padding: 20px;\n      transition: background 0.3s, color 0.3s;\n    }\n\n    header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 30px;\n    }\n\n    header h3 {\n      font-family: Verdana, sans-serif;\n      color: var(--accent-color);\n      font-size: 1.5rem;\n      margin: 0 auto;\n      text-align: center;\n    }\n\n    header img {\n      height: 60px;\n    }\n\n    .toggle-theme {\n      cursor: pointer;\n      font-size: 1.4em;\n      margin-left: auto;\n    }\n\n    .form-wrapper {\n      max-width: 600px;\n      margin: 0 auto;\n    }\n\n    .form-group {\n      margin-bottom: 20px;\n    }\n\n    .radio-horizontal {\n      display: flex;\n      gap: 20px;\n    }\n\n    label {\n      font-weight: 500;\n      display: block;\n      margin-bottom: 6px;\n    }\n\n    input[type\u003d\"radio\"] {\n      margin-right: 6px;\n    }\n\n    body.light input, body.light textarea {\n      background-color: var(--input-bg-light);\n      color: var(--text-color-light);\n      border-color: var(--border-light);\n    }\n\n    body.dark input, body.dark textarea {\n      background-color: var(--input-bg-dark);\n      color: var(--text-color-dark);\n      border-color: var(--border-dark);\n    }\n\n    .checkbox-horizontal {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 12px;\n      align-items: center;\n    }\n\n    #mainForm { display: none; text-align: left; }\n    #ineligibleMsg { display: none; color: red; margin-top: 20px; font-weight: bold; text-align: left; }\n    #incomeLimitGroup, #conditionalQuestions { display: none; }\n\n    #notes {\n      width: 700px;\n      max-width: 100%;\n    }\n    button {\n      padding: 8px 16px;\n      border: none;\n      border-radius: 5px;\n      cursor: pointer;\n      font-weight: 500;\n      background-color: var(--accent-color);\n      color: white;\n      transition: background 0.2s;\n      display: block;\n      margin: 20px auto;\n    }\n\n    button:hover {\n      background-color: #a00000;\n    }\n\n    table.income-table {\n      margin-top: 10px;\n      border-collapse: collapse;\n      width: 100%;\n      max-width: 400px;\n    }\n\n    table.income-table, .income-table th, .income-table td {\n      border: 1px solid #999;\n    }\n\n    .income-table th, .income-table td {\n      padding: 6px;\n      text-align: left;\n    }\n\n    .income-table caption {\n      font-weight: bold;\n      margin-bottom: 5px;\n    }\n\n    .filing-error {\n      border: 2px solid red;\n      padding: 10px;\n      border-radius: 5px;\n    }\n    #receptionHelpBtn {\n      background-color: #cccccc;  /* Neutral gray by default */\n      color: black;\n      padding: 8px 14px;\n      border-radius: 5px;\n      font-weight: bold;\n      border: none;\n      cursor: pointer;\n      transition: background 0.2s ease;\n    }\n\n    #receptionHelpBtn:hover {\n      background-color: #b3b3b3;\n    }\n\n    #receptionHelpBtn.active {\n      background-color: #f39c12;  /* Bright amber when active */\n      color: white;\n    }\n\n    #receptionEscalateBtn {\n      background-color: #e74c3c;\n      color: white;\n      padding: 8px 14px;\n      border-radius: 5px;\n      font-weight: bold;\n      border: none;\n      cursor: pointer;\n      transition: background 0.2s ease;\n      margin-left: 10px;\n    }\n\n    #receptionEscalateBtn:disabled {\n      background-color: #aaa;\n      cursor: not-allowed;\n    }\n\n    #receptionHelpArea {\n      margin-top: 30px;\n      text-align: center;\n    }\n    .tooltip {\n      display: inline-block;\n      position: relative;\n      cursor: pointer;\n      margin-left: 6px;\n      color: var(--accent-color);\n      font-weight: bold;\n    }\n\n    .tooltip::after {\n      content: attr(data-tooltip);\n      position: absolute;\n      bottom: 125%;\n      left: 50%;\n      transform: translateX(-50%);\n      background-color: #333;\n      color: #fff;\n      padding: 6px 10px;\n      border-radius: 5px;\n      white-space: nowrap;\n      opacity: 0;\n      pointer-events: none;\n      font-size: 0.85em;\n      transition: opacity 0.2s ease;\n      z-index: 10;\n    }\n\n    .tooltip:hover::after {\n      opacity: 1;\n    }\n  \u003c/style\u003e\n  \u003cscript\u003e\n    function toggleIncomeQuestion() {\n      const tuition \u003d document.querySelector(\u0027input[name\u003d\"tuition\"]:checked\u0027);\n      const group \u003d document.getElementById(\u0027incomeLimitGroup\u0027);\n      group.style.display \u003d tuition \u0026\u0026 tuition.value \u003d\u003d\u003d \u0027No\u0027 ? \u0027block\u0027 : \u0027none\u0027;\n    }\n\n    function checkEligibility() {\n      const tuition \u003d document.querySelector(\u0027input[name\u003d\"tuition\"]:checked\u0027)?.value;\n      const income \u003d document.querySelector(\u0027input[name\u003d\"incomeLimit\"]:checked\u0027)?.value;\n      const docs \u003d document.querySelector(\u0027input[name\u003d\"documentsReady\"]:checked\u0027)?.value;\n      const present \u003d document.querySelector(\u0027input[name\u003d\"allPresent\"]:checked\u0027)?.value;\n      const selfEmp \u003d document.querySelector(\u0027input[name\u003d\"selfEmployment\"]:checked\u0027)?.value;\n      const bankrupt \u003d document.querySelector(\u0027input[name\u003d\"bankruptcyOrDeceased\"]:checked\u0027)?.value;\n      const rental \u003d document.querySelector(\u0027input[name\u003d\"rentalOrGains\"]:checked\u0027)?.value;\n      const foreign \u003d document.querySelector(\u0027input[name\u003d\"foreignProperty\"]:checked\u0027)?.value;\n\n      const showCond \u003d tuition \u003d\u003d\u003d \u0027Yes\u0027 || (tuition \u003d\u003d\u003d \u0027No\u0027 \u0026\u0026 income \u003d\u003d\u003d \u0027No\u0027);\n      document.getElementById(\u0027conditionalQuestions\u0027).style.display \u003d showCond ? \u0027block\u0027 : \u0027none\u0027;\n\n      const isIneligible \u003d (\n        (tuition \u003d\u003d\u003d \u0027No\u0027 \u0026\u0026 income \u003d\u003d\u003d \u0027Yes\u0027) ||\n        docs \u003d\u003d\u003d \u0027No\u0027 ||\n        present \u003d\u003d\u003d \u0027No\u0027 ||\n        selfEmp \u003d\u003d\u003d \u0027Yes\u0027 ||\n        bankrupt \u003d\u003d\u003d \u0027Yes\u0027 ||\n        rental \u003d\u003d\u003d \u0027Yes\u0027 ||\n        foreign \u003d\u003d\u003d \u0027Yes\u0027\n      );\n\n      document.getElementById(\u0027mainForm\u0027).style.display \u003d !isIneligible \u0026\u0026 docs \u0026\u0026 present \u0026\u0026 selfEmp \u0026\u0026 bankrupt \u0026\u0026 rental \u0026\u0026 foreign ? \u0027block\u0027 : \u0027none\u0027;\n      document.getElementById(\u0027ineligibleMsg\u0027).style.display \u003d isIneligible ? \u0027block\u0027 : \u0027none\u0027;\n    }\n\n    function resetForm() {\n      document.getElementById(\u0027eligibilityForm\u0027).reset();\n      document.getElementById(\u0027mainForm\u0027).style.display \u003d \u0027none\u0027;\n      document.getElementById(\u0027ineligibleMsg\u0027).style.display \u003d \u0027none\u0027;\n      document.getElementById(\u0027incomeLimitGroup\u0027).style.display \u003d \u0027none\u0027;\n      document.getElementById(\u0027conditionalQuestions\u0027).style.display \u003d \u0027none\u0027;\n    }\n\n    function submitMainForm() {\n      const filingYearCheckboxes \u003d document.querySelectorAll(\u0027input[name\u003d\"filingYears\"]:checked\u0027);\n      const errorBox \u003d document.getElementById(\u0027filingYearsError\u0027);\n\n      // Validation: At least one filing year must be checked\n      if (filingYearCheckboxes.length \u003d\u003d\u003d 0) {\n        errorBox.style.display \u003d \u0027block\u0027;\n        return;\n      } else {\n        errorBox.style.display \u003d \u0027none\u0027;\n      }\n\n      const formData \u003d {\n        householdsize: document.getElementById(\u0027householdsize\u0027).value,\n        filingYears: [...filingYearCheckboxes].map(cb \u003d\u003e cb.value),\n        situations: [...document.querySelectorAll(\u0027input[name\u003d\"situations\"]:checked\u0027)].map(cb \u003d\u003e cb.value),\n        notes: document.getElementById(\u0027notes\u0027).value,\n        needsSeniorReview: document.getElementById(\u0027needsSeniorReview\u0027).checked\n      };\n\n      google.script.run\n        .withSuccessHandler(clientID \u003d\u003e {\n          document.getElementById(\u0027clientIDDisplay\u0027).textContent \u003d clientID;\n          showModal();\n        })\n        .storeMainFormData(formData);\n    }\n    function showModal() {\n      const modal \u003d document.getElementById(\u0027confirmationModal\u0027);\n      modal.style.display \u003d \u0027flex\u0027; // force flex display\n    }\n\n    function closeModal() {\n      document.getElementById(\u0027confirmationModal\u0027).style.display \u003d \u0027none\u0027;\n      document.getElementById(\u0027eligibilityForm\u0027).reset();\n      document.getElementById(\u0027mainForm\u0027).reset();\n\n      // Reset UI state\n      document.getElementById(\u0027mainForm\u0027).style.display \u003d \u0027none\u0027;\n      document.getElementById(\u0027ineligibleMsg\u0027).style.display \u003d \u0027none\u0027;\n      document.getElementById(\u0027incomeLimitGroup\u0027).style.display \u003d \u0027none\u0027;\n      document.getElementById(\u0027conditionalQuestions\u0027).style.display \u003d \u0027none\u0027;\n    }\n    function toggleTheme() {\n      const body \u003d document.body;\n      const themeIcon \u003d document.querySelector(\u0027.toggle-theme\u0027);\n\n      if (body.classList.contains(\u0027light\u0027)) {\n        body.classList.remove(\u0027light\u0027);\n        body.classList.add(\u0027dark\u0027);\n        themeIcon.textContent \u003d \u0027üåô\u0027;\n      } else {\n        body.classList.remove(\u0027dark\u0027);\n        body.classList.add(\u0027light\u0027);\n        themeIcon.textContent \u003d \u0027‚òÄÔ∏è\u0027;\n      }\n    }\n    let receptionHelpActive \u003d false;\n\n    function toggleReceptionHelp() {\n      const helpBtn \u003d document.getElementById(\u0027receptionHelpBtn\u0027);\n      const escalateBtn \u003d document.getElementById(\u0027receptionEscalateBtn\u0027);\n      const volunteer \u003d \"Reception\";\n\n      receptionHelpActive \u003d !receptionHelpActive;\n\n      if (receptionHelpActive) {\n        google.script.run.withSuccessHandler(() \u003d\u003e {\n          helpBtn.textContent \u003d \u0027‚úÖ Cancel Call\u0027;\n          helpBtn.classList.add(\u0027active\u0027);\n          escalateBtn.style.display \u003d \u0027inline-block\u0027;\n          escalateBtn.disabled \u003d false;\n        }).sendHelpRequest(volunteer);\n      } else {\n        google.script.run.withSuccessHandler(() \u003d\u003e {\n          helpBtn.textContent \u003d \u0027üìû Call for Help\u0027;\n          helpBtn.classList.remove(\u0027active\u0027);\n          escalateBtn.style.display \u003d \u0027none\u0027;\n        }).clearHelpRequest(volunteer);\n      }\n    }\n\n    function escalateReceptionHelp() {\n      const volunteer \u003d \"Reception\";\n      const escalateBtn \u003d document.getElementById(\u0027receptionEscalateBtn\u0027);\n\n      google.script.run.withSuccessHandler(() \u003d\u003e {\n        escalateBtn.disabled \u003d true;\n      }).escalateHelpRequest(volunteer);\n    }\n  \u003c/script\u003e\n\u003c/head\u003e\n\u003cbody class\u003d\"light\"\u003e\n  \u003cheader\u003e\n    \u003ch3\u003eAFSA Tax Clinic Client Intake Form\u003c/h3\u003e\n    \u003cdiv\u003e\n      \u003cspan class\u003d\"toggle-theme\" onclick\u003d\"toggleTheme()\"\u003e‚òÄÔ∏è\u003c/span\u003e\n    \u003c/div\u003e\n  \u003c/header\u003e\n\n  \u003cdiv class\u003d\"form-wrapper\"\u003e\n    \u003cform id\u003d\"eligibilityForm\" oninput\u003d\"checkEligibility()\"\u003e\n      \u003cdiv class\u003d\"form-group\"\u003e\n        \u003clabel\u003eAre you claiming tuition credits (T2202)\u003cspan class\u003d\"tooltip\" data-tooltip\u003d\"Tuition credits can be either accrued from current year or prior year carryforward.\"\u003e?\u003c/span\u003e\u003c/label\u003e\n        \u003cdiv class\u003d\"radio-horizontal\"\u003e\n          \u003clabel\u003e\u003cinput type\u003d\"radio\" name\u003d\"tuition\" value\u003d\"Yes\" onchange\u003d\"toggleIncomeQuestion()\"\u003e Yes\u003c/label\u003e\n          \u003clabel\u003e\u003cinput type\u003d\"radio\" name\u003d\"tuition\" value\u003d\"No\" onchange\u003d\"toggleIncomeQuestion()\"\u003e No\u003c/label\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n      \u003cdiv class\u003d\"form-group\" id\u003d\"incomeLimitGroup\"\u003e\n        \u003clabel\u003eDo you have income in excess of our limits\u003cspan class\u003d\"tooltip\" data-tooltip\u003d\"This is a hard limit - no exceptions. For income limit not to apply, must claim tuition credits. If client is unsure, ask for their slips\"\u003e?\u003c/span\u003e\u003c/label\u003e\n        \u003ctable class\u003d\"income-table\"\u003e\n          \u003ccaption\u003eIncome Limits\u003c/caption\u003e\n          \u003ctr\u003e\u003cth\u003eTaxpayer Status\u003c/th\u003e\u003cth\u003eFamily Income\u003c/th\u003e\u003c/tr\u003e\n          \u003ctr\u003e\u003ctd\u003eIndividual\u003c/td\u003e\u003ctd\u003e$35,000\u003c/td\u003e\u003c/tr\u003e\n          \u003ctr\u003e\u003ctd\u003eCouple\u003c/td\u003e\u003ctd\u003e$45,000\u003c/td\u003e\u003c/tr\u003e\n          \u003ctr\u003e\u003ctd\u003eEach additional dependant\u003c/td\u003e\u003ctd\u003e+$2,500\u003c/td\u003e\u003c/tr\u003e\n          \u003ctr\u003e\u003ctd\u003eInterest income over $1,000\u003c/td\u003e\u003ctd\u003eIneligible\u003c/td\u003e\u003c/tr\u003e\n        \u003c/table\u003e\n        \u003csmall\u003e*For each additional dependant you have, add $2,500 to the maximum family income.\u003c/small\u003e\u003cbr\u003e\u003cbr\u003e\n        \u003cdiv class\u003d\"radio-horizontal\"\u003e\n          \u003clabel\u003e\u003cinput type\u003d\"radio\" name\u003d\"incomeLimit\" value\u003d\"Yes\"\u003e Yes\u003c/label\u003e\n          \u003clabel\u003e\u003cinput type\u003d\"radio\" name\u003d\"incomeLimit\" value\u003d\"No\"\u003e No\u003c/label\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n      \u003cdiv id\u003d\"conditionalQuestions\"\u003e\n        \u003cdiv class\u003d\"form-group\"\u003e\n          \u003clabel\u003eDo you have all your documents available now\u003cspan class\u003d\"tooltip\" data-tooltip\u003d\"Digital documentation is fine. Rent receipts do not need to be present at the moment, but client must know exact amount and be able to get receipts in the future\"\u003e?\u003c/span\u003e\u003c/label\u003e\n          \u003cdiv class\u003d\"radio-horizontal\"\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"radio\" name\u003d\"documentsReady\" value\u003d\"Yes\"\u003e Yes\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"radio\" name\u003d\"documentsReady\" value\u003d\"No\"\u003e No\u003c/label\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n        \u003cdiv class\u003d\"form-group\"\u003e\n          \u003clabel\u003eAre all clients filing a return present here today\u003cspan class\u003d\"tooltip\" data-tooltip\u003d\"We do need a signature from all filing individuals to finalize the return. If the individual is not present, representative must be able to show 1) Power of Attorney or 2)the missing peron\u0027s ID + they video call in on finalization\"\u003e?\u003c/span\u003e\u003c/label\u003e\n          \u003cdiv class\u003d\"radio-horizontal\"\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"radio\" name\u003d\"allPresent\" value\u003d\"Yes\"\u003e Yes\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"radio\" name\u003d\"allPresent\" value\u003d\"No\"\u003e No\u003c/label\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n        \u003cdiv class\u003d\"form-group\"\u003e\n          \u003clabel\u003eDo you have self-employment income or crypto transactions\u003cspan class\u003d\"tooltip\" data-tooltip\u003d\"Self-employment includes Door-Dash/Uber Eats. Holding or buying crypto is fine, but not if they sold during the year\"\u003e?\u003c/span\u003e\u003c/label\u003e\n          \u003cdiv class\u003d\"radio-horizontal\"\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"radio\" name\u003d\"selfEmployment\" value\u003d\"Yes\"\u003e Yes\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"radio\" name\u003d\"selfEmployment\" value\u003d\"No\"\u003e No\u003c/label\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n        \u003cdiv class\u003d\"form-group\"\u003e\n          \u003clabel\u003eAre you filing for bankruptcy or for a deceased person\u003cspan class\u003d\"tooltip\" data-tooltip\u003d\"Our software doesn\u0027t do terminal returns (nor are the volunteers trained to do this)\"\u003e?\u003c/span\u003e\u003c/label\u003e\n          \u003cdiv class\u003d\"radio-horizontal\"\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"radio\" name\u003d\"bankruptcyOrDeceased\" value\u003d\"Yes\"\u003e Yes\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"radio\" name\u003d\"bankruptcyOrDeceased\" value\u003d\"No\"\u003e No\u003c/label\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n        \u003cdiv class\u003d\"form-group\"\u003e\n          \u003clabel\u003e Do you have rental income or capital gains\u003cspan class\u003d\"tooltip\" data-tooltip\u003d\"Rental income does not include subletting - subletting for a profit is illegal in Ontario.\"\u003e?\u003c/span\u003e\u003c/label\u003e\n          \u003cdiv class\u003d\"radio-horizontal\"\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"radio\" name\u003d\"rentalOrGains\" value\u003d\"Yes\"\u003e Yes\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"radio\" name\u003d\"rentalOrGains\" value\u003d\"No\"\u003e No\u003c/label\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n        \u003cdiv class\u003d\"form-group\"\u003e\n          \u003clabel\u003e Do you have foreign property over $100K\u003cspan class\u003d\"tooltip\" data-tooltip\u003d\"Rental properties or foreign stock portfolios. Personal homes do not count\"\u003e?\u003c/span\u003e\u003c/label\u003e\n          \u003cdiv class\u003d\"radio-horizontal\"\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"radio\" name\u003d\"foreignProperty\" value\u003d\"Yes\"\u003e Yes\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"radio\" name\u003d\"foreignProperty\" value\u003d\"No\"\u003e No\u003c/label\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/form\u003e\n\n    \u003cdiv id\u003d\"ineligibleMsg\"\u003eUnfortunately, this client does not meet our eligibility requirements. \u003cbutton onclick\u003d\"resetForm()\"\u003eReset\u003c/button\u003e\u003c/div\u003e\n\n    \u003cform id\u003d\"mainForm\" onsubmit\u003d\"submitMainForm(); return false;\"\u003e\n      \u003cp\u003eClient is eligible for services, please complete the below inputs.\u003c/p\u003e\n    \n        \u003cdiv class\u003d\"form-group\"\u003e\n          \u003clabel for\u003d\"householdsize\"\u003e How many tax-filing individuals are we filing for?\u003c/label\u003e\n          \u003cinput type\u003d\"Number\" id\u003d\"householdsize\" name\u003d\"householdsize\" min\u003d\"1\" required\u003e\n        \u003c/div\u003e\n\n        \u003cdiv class\u003d\"form-group\"\u003e\n          \u003clabel\u003eWhich tax years do we need to complete?\u003c/label\u003e\n          \u003cdiv class\u003d\"checkbox-horizontal\"\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"checkbox\" name\u003d\"filingYears\" value\u003d\"2025\"\u003e 2025\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"checkbox\" name\u003d\"filingYears\" value\u003d\"2024\"\u003e 2024\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"checkbox\" name\u003d\"filingYears\" value\u003d\"2023\"\u003e 2023\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"checkbox\" name\u003d\"filingYears\" value\u003d\"2022\"\u003e 2022\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"checkbox\" name\u003d\"filingYears\" value\u003d\"2021\"\u003e 2021\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"checkbox\" name\u003d\"filingYears\" value\u003d\"2020\"\u003e 2020\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"checkbox\" name\u003d\"filingYears\" value\u003d\"2019\"\u003e 2019\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"checkbox\" name\u003d\"filingYears\" value\u003d\"2018\"\u003e 2018\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"checkbox\" name\u003d\"filingYears\" value\u003d\"2017\"\u003e 2017\u003c/label\u003e\n          \u003c/div\u003e\n          \u003cdiv id\u003d\"filingYearsError\" style\u003d\"color: red; margin-top: 5px; display: none;\"\u003e\n            Please select at least one tax year.\n          \u003c/div\u003e\n        \u003c/div\u003e\n\n        \u003cdiv class\u003d\"form-group\"\u003e\n          \u003clabel\u003eWhich situations are applicable?\u003c/label\u003e\n          \u003cdiv class\u003d\"checkbox-horizontal\"\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"checkbox\" name\u003d\"situations\" value\u003d\"Student\"\u003e Student\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"checkbox\" name\u003d\"situations\" value\u003d\"Employed\"\u003e Employed\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"checkbox\" name\u003d\"situations\" value\u003d\"Married/Common-Law\"\u003e Married/Common-Law\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"checkbox\" name\u003d\"situations\" value\u003d\"Newcomer\"\u003e Newcomer\u003c/label\u003e\n            \u003clabel\u003e\u003cinput type\u003d\"checkbox\" name\u003d\"situations\" value\u003d\"Children\"\u003e Children\u003c/label\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n        \u003cbr\u003e\n        \u003cdiv class\u003d\"form-group\"\u003e\n          \u003clabel\u003ePlease briefly identify the documents that client has and complete the checklist.\u003cspan class\u003d\"tooltip\" data-tooltip\u003d\"Refer to the checklist and provided guide for samples of documents\"\u003e?\u003c/span\u003e\u003c/label\u003e\n        \u003c/div\u003e\n        \u003cbr\u003e\n        \u003cdiv class\u003d\"form-group\"\u003e\n          \u003clabel for\u003d\"notes\"\u003eAdditional Notes (optional):\u003c/label\u003e\n          \u003ctextarea id\u003d\"notes\" name\u003d\"notes\" rows\u003d\"3\"\u003e\u003c/textarea\u003e\n        \u003c/div\u003e\n\n        \u003cdiv class\u003d\"form-group\"\u003e\n          \u003clabel\u003e\u003cinput type\u003d\"checkbox\" id\u003d\"needsSeniorReview\" name\u003d\"needsSeniorReview\"\u003e Flag for senior review (please indicate in notes why this is the case)\u003cspan class\u003d\"tooltip\" data-tooltip\u003d\"Couples/families are complex situations. Newcomers/immigrants are not necessarily complex situations unless they are U.S. Citizens. Use judgement accordingly based on provided guidance - panic/confusions/unpreparedness of the client does not warrant senior review.\"\u003e?\u003c/span\u003e\u003c/label\u003e\n        \u003c/div\u003e\n\n      \u003cbutton type\u003d\"submit\"\u003eSubmit\u003c/button\u003e\n    \u003c/form\u003e\n    \u003cdiv id\u003d\"receptionHelpArea\" style\u003d\"text-align: center; margin-top: 30px;\"\u003e\n      \u003cbutton id\u003d\"receptionHelpBtn\" onclick\u003d\"toggleReceptionHelp()\"\u003eüìû Call for Help\u003c/button\u003e\n      \u003cbutton id\u003d\"receptionEscalateBtn\" onclick\u003d\"escalateReceptionHelp()\" style\u003d\"display: none;\"\u003eüö® Escalate to Senior Mentor\u003c/button\u003e\n    \u003c/div\u003e\n  \u003c/div\u003e\n\n  \u003cdiv id\u003d\"confirmationModal\" style\u003d\"display:none; position:fixed; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,0.5); z-index:1000; align-items:center; justify-content:center;\"\u003e\n    \u003cdiv style\u003d\"background:white; padding:30px 40px; border-radius:8px; text-align:center; max-width:300px; margin:auto;\"\u003e\n      \u003ch3 style\u003d\"margin-bottom:20px;\"\u003eClient submitted. Please note the Client ID and direct Client to next stage\u003c/h3\u003e\n      \u003cp style\u003d\"margin-bottom:20px;\"\u003eClient ID: \u003cstrong id\u003d\"clientIDDisplay\"\u003e\u003c/strong\u003e\u003c/p\u003e\n      \u003cbutton onclick\u003d\"closeModal()\" style\u003d\"padding:8px 16px; background-color:#8e0000; color:white; border:none; border-radius:5px; cursor:pointer;\"\u003eReset Form\u003c/button\u003e\n    \u003c/div\u003e\n  \u003c/div\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"}]}